{% ckan_extends %}

{%- set schema = h.scheming_get_dataset_schema(dataset_type) -%}

{%- block resource_format -%}{%- endblock -%}
{%- block resource_license -%}{%- endblock -%}

{%- block resource_fields -%}
  {%- set exclude_fields = [
    'name',
    ] -%}

  {%- for field in schema.resource_fields -%}
    {%- if field.field_name not in exclude_fields
        and field.display_snippet is not none -%}
      <tr>
        <th scope="row">
          {{- h.scheming_language_text(field.label) -}}
        </th>
        <td {% if field.display_property %} property="{{ field.display_property
          }}"{% endif %}>

          {%- snippet 'scheming/snippets/display_field.html',
              field=field, data=res, entity_type='dataset',
              object_type=dataset_type -%}
        </td>
      </tr>
    {%- endif -%}
  {%- endfor -%}
{%- endblock -%}
